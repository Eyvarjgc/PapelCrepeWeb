---
import CatalogueCards from "../components/Home/CatalogueCards.astro";
import Subtitle from "../components/Home/Subtitle.astro"

---

<Subtitle title="Algunas de nuestras piñatas más populares" id="catalogue"/>

<h3 class="text-center text-2xl  md:text-3xl w-9/12 md:w-1/2 mx-auto my-12 font-medium font2"> Descubre nuestra amplia variedad de <strong class="text-primary font-semibold">piñatas temáticas</strong>, diseñadas a mano con materiales de calidad y adaptadas a tus necesidades. </h3>

<section 
class="catalogue h-fit md:h-full md:w-[60%] 
flex flex-wrap justify-center items-center gap-6 md:gap-28
md:grid md:grid-cols-3	md:mx-auto md:my-0 md:place-items-center lg:gap-12 md:pb-12
sm:grid-cols-2 sm:grid sm:mx-auto sm:my-0 sm:w-1/2  
">




</section>


<div class="mx-auto my-0 flex justify-center items-center w-full flex-wrap">

  <a href="/catalogue/"
class="bg-opacity-80 caveat rounded-md bg-primary
md:py-1 md:px-6 md:text-4xl hover:scale-125 transition-all md:mt-0 mt-24
text-1xl px-4 py-2
">
Explora nuestras piñatas personalizadas</a>

</div>





<script>
	import data from '../data.json'

  function getRandomElements(arr, numElements) {
  numElements = Math.min(numElements, arr.length);

  const shuffled = [...arr].sort(() => 0.5 - Math.random());
  
  return shuffled.slice(0, numElements);
}


  const randomElements = getRandomElements(data, 6);

	const catalogue = document.querySelector('.catalogue')

  

const items = randomElements.map(Element => {
		return `
		<div class="h-[340px] w-32  md:h-80 relative px-2 md:w-52   ">
  
	<img src=${Element.img} alt="" class="absolute top-0 z-10 h-48 w-48 left-0 right-0 mx-auto my-0
	hover:scale-125 hover:mt-16 transition-all group ">


	<div class="bg-cardThree flex flex-col  justify-end text-start group-hover:blur-sm 
  h-52 absolute left-0 right-0 bottom-0 px-4 rounded-md ">
		
		<h1 class="font-semibold md:text-2xl text-base text-black"> <span class=${Element.font}>${Element.name}</span> </h1>

		<p class="md:text-xl font-medium caveat text-white text-base ">${Element.size}</p>

		
		<p class="text-xl font-semibold ${Element.font}">Precio</p>
		<span class="text-xl pl-4 font-semibold font-mono ">$ ${Element.price}</span>

	</div>

</div>`
	}).join('')
	catalogue.insertAdjacentHTML('beforeend',items)

</script>